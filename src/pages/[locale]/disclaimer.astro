---
import SiteLayout from "@/layouts/SiteLayout.astro";
import { locales, type Locale } from "@/i18n/config";
import { messagesByLocale } from "@/lib/messages";
import type { MessageDictionary } from "@/i18n/translator";

export const prerender = true;

export function getStaticPaths() {
  return locales.map((locale) => ({ params: { locale } }));
}

const { locale } = Astro.params;
const messages = messagesByLocale[locale] as MessageDictionary;

const navigationAlternatePaths: Partial<Record<Locale, string>> = {
  ua: "/ua/disclaimer/",
  ru: "/ru/disclaimer/",
  en: "/en/disclaimer/",
};
---

<SiteLayout
  locale={locale}
  title={messages.Disclaimer.title}
  noIndex={true}
  navigationAlternatePaths={navigationAlternatePaths}
>
  <main
    class="container mx-auto px-4 py-12 max-w-3xl prose prose-article text-[clamp(1.1rem,3vw,1.2rem)] leading-relaxed"
  >
    <h1>{messages.Disclaimer.title}</h1>

    <section class="space-y-6">
      <div>
        <h2>{messages.Disclaimer.section1.heading}</h2>
        <p>
          {messages.Disclaimer.section1.text}
        </p>
      </div>

      <div>
        <h2>{messages.Disclaimer.section2.heading}</h2>
        <p>
          {messages.Disclaimer.section2.text}
        </p>
      </div>

      <div>
        <h2>{messages.Disclaimer.section3.heading}</h2>
        <p>
          {messages.Disclaimer.section3.text}
          <br />
          {messages.Disclaimer.section3.disclaimer}
        </p>
      </div>

      <div class="bg-red-50 dark:bg-red-900/20 p-6 rounded-lg border border-red-100 dark:border-red-900/30">
        <h2 class="text-red-700 dark:text-red-400 mt-0">{messages.Disclaimer.section4.heading}</h2>
        <p>
          {messages.Disclaimer.section4.text}
        </p>
        <p class="font-medium">
          {messages.Disclaimer.section4.action}
        </p>
      </div>

      <p class="text-xl font-bold text-center mt-12 pt-8 border-t border-gray-200 dark:border-gray-800">
        {messages.Disclaimer.agreement}
      </p>
    </section>
  </main>
</SiteLayout>
